"use strict";
/// <reference path="./typings/main.d.ts" />
var plugins = {
    beautylog: require("beautylog"),
    path: require("path"),
    through2: require("through2"),
    typingsCore: require("typings-core")
};
var forEach = function (file, enc, cb) {
    plugins.typingsCore.install({ production: false, cwd: plugins.path.dirname(file.path) })
        .then(function () {
        cb(null, file);
    }, function () {
        plugins.beautylog.error("something went wrong: Check if path is correct: " + file.path.blue);
        cb(null, file);
    });
};
var atEnd = function (cb) {
    cb();
};
module.exports = function () {
    return plugins.through2.obj(forEach, atEnd);
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsSUFBSSxPQUFPLEdBQUc7SUFDVixTQUFTLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQztJQUMvQixJQUFJLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUNyQixRQUFRLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUM3QixXQUFXLEVBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQztDQUN2QyxDQUFDO0FBRUYsSUFBSSxPQUFPLEdBQUcsVUFBUyxJQUFJLEVBQUMsR0FBRyxFQUFDLEVBQUU7SUFDOUIsT0FBTyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBQyxVQUFVLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztTQUNqRixJQUFJLENBQUM7UUFDRixFQUFFLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFBQztRQUNFLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGtEQUFrRCxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0YsRUFBRSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUMsQ0FBQztBQUNYLENBQUMsQ0FBQztBQUVGLElBQUksS0FBSyxHQUFHLFVBQVMsRUFBRTtJQUNuQixFQUFFLEVBQUUsQ0FBQztBQUNULENBQUMsQ0FBQztBQUVGLGlCQUFTO0lBQ0wsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxLQUFLLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90eXBpbmdzL21haW4uZC50c1wiIC8+XG5sZXQgcGx1Z2lucyA9IHtcbiAgICBiZWF1dHlsb2c6IHJlcXVpcmUoXCJiZWF1dHlsb2dcIiksXG4gICAgcGF0aDogcmVxdWlyZShcInBhdGhcIiksXG4gICAgdGhyb3VnaDI6IHJlcXVpcmUoXCJ0aHJvdWdoMlwiKSxcbiAgICB0eXBpbmdzQ29yZTogcmVxdWlyZShcInR5cGluZ3MtY29yZVwiKVxufTtcblxubGV0IGZvckVhY2ggPSBmdW5jdGlvbihmaWxlLGVuYyxjYil7XG4gICAgcGx1Z2lucy50eXBpbmdzQ29yZS5pbnN0YWxsKHtwcm9kdWN0aW9uOiBmYWxzZSwgY3dkOiBwbHVnaW5zLnBhdGguZGlybmFtZShmaWxlLnBhdGgpfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNiKG51bGwsZmlsZSk7XG4gICAgICAgIH0sZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHBsdWdpbnMuYmVhdXR5bG9nLmVycm9yKFwic29tZXRoaW5nIHdlbnQgd3Jvbmc6IENoZWNrIGlmIHBhdGggaXMgY29ycmVjdDogXCIgKyBmaWxlLnBhdGguYmx1ZSk7XG4gICAgICAgICAgICBjYihudWxsLGZpbGUpO1xuICAgICAgICB9KTtcbn07XG5cbmxldCBhdEVuZCA9IGZ1bmN0aW9uKGNiKXtcbiAgICBjYigpO1xufTtcblxuZXhwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBsdWdpbnMudGhyb3VnaDIub2JqKGZvckVhY2gsYXRFbmQpO1xufTtcbiJdfQ==
